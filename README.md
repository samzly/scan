<h1>Дипломный проект</h1>

<h2>Начало работы</h2>

<strong>Клонирование репозитория</strong>

    git clone https://github.com/samzly/scan

<strong>Установка необходимых модулей</strong>

    npm install

<strong>Запуск в режиме разработки</strong>

    gatsby develop

или

    gatsby start

<strong>Компиляция рабочей сборки</strong>

    gatsby build

<h2>Постановка задачи</h2>

Компания СКАН разработала новый API для поиска публикаций о компании (юридическом лице) в средствах массовой информации по его ИНН. Серверная часть приложения уже готова, ваша задача — разработать клиентскую часть.
Функциональные требования

Клиентская часть сервиса состоит из:

<li>главной страницы</li>
<li>формы авторизации</li>
<li>формы для ввода параметров запроса</li>
<li>страницы с выводом результатов запроса</li>

<br>
⚡ Макет, подготовленный дизайнерами, находится по <a href='https://www.figma.com/file/u3MOjzYnTnirz712GrLbFv/%D0%9C%D0%B0%D0%BA%D0%B5%D1%82-%D0%A1%D0%9A%D0%90%D0%9D'>ссылке</a>.
<br>

Далее подробно разберём поведение отдельных элементов и страниц сервиса.

<h2>Шапка сайта</h2>

В шапке сайта находятся:

<li>логотип</li>
<li>меню</li>
<li>панель управления учётной записью</li>

Страницы «Тарифы» и «FAQ» выходят за рамки данного ТЗ. Поэтому ссылки на них можно оставить пустыми или прописать фейковые URL-адреса.
Шапка сайта выглядит по-разному для авторизованного и неавторизованного пользователя.
Шапка сайта для неавторизованного пользователя:

<li>Ссылку «Зарегистрироваться» можно оставить пустой или прописать фейковый URL.</li>
<li>Кнопка «Войти» ведёт на страницу авторизации.</li>

Шапка сайта для авторизованного пользователя:

<li>Вместо кнопок «Зарегистрироваться» и «Войти» появился аватар пользователя с именем и кнопкой «Выйти».</li>
<li>Кнопка «Выйти» сбрасывает авторизацию.</li>
<li>Слева от аватара должна быть панель с информацией о лимите по компаниям в аккаунте и количестве уже используемых компаний. Эта информация подгружается не сразу, для её получения нужно отправить отдельный запрос. Поэтому в то время, пока запрос будет грузиться, нужно показывать лоадер. Пример этой панели с лоадером есть в макете.</li>

<h2>Главная страница</h2>

Главная страница содержит описание сервиса и доступна всем пользователям без авторизации.

<li>Кнопка «Запросить данные» ведёт на страницу ввода параметров поиска. Она должна быть видна только зарегистрированному пользователю.</li>
<li>Карточки в разделе «Почему именно мы» должны переключаться по принципу карусели: клик на стрелке слева или справа переключает карточки в соответствующем направлении.</li>
<li>В разделе «Наши тарифы» перечислены возможные тарифы. Кнопка «Подробнее» — заглушка, при клике на неё ничего не происходит.</li>
<li>Если пользователь авторизован, карточка с используемым им тарифом должна выглядеть иначе, чем остальные:</li>
<ul>
<li>появляется бейдж «Текущий тариф»;</li>
<li>кнопка «Подробнее» меняется на «Перейти в личный кабинет» (она также не функциональна);</li>
<li>карточка выделяется рамкой соответствующего тарифу цвета.</li>
</ul>

<h2>Форма авторизации</h2>

Эта страница содержит форму с полями для ввода логина и пароля. При заполнении пароля вводимое значение должно маскироваться.

При отсутствии одного из значений — логина или пароля — кнопка «Войти» неактивна, и при клике на неё ничего не происходит.

После ввода всех необходимых значений кнопка становится активной. При нажатии на неё нужно отправить запрос на POST account/login

При успешной авторизации в ответе на запрос придут:

<li>токен авторизации (accessToken),</li>
<li>дата, до которой токен действителен (expire).</li>

Эти данные необходимо сохранить в localStorage, чтобы пользователю не нужно было заново авторизоваться после каждого обновления страницы.

В случае неуспешного запроса показать сообщение об ошибке.

Остальные элементы формы не функциональны:

<li>вкладка «Зарегистрироваться»,</li>
<li>ссылка «Восстановить пароль»,</li>
<li>кнопки «Войти» через Google/Facebook/Яндекс.</li>

Их нужно просто сверстать.

<h2>Форма для ввода параметров запроса</h2>

Данная страница содержит основу функционала сервиса: форму, где пользователь задаёт параметры поиска.

Эта страница доступна только авторизованным пользователям. Если неавторизованный пользователь пытается её открыть, нужно переадресовать его на главную страницу сервиса.

Обязательные поля должны быть отмечены звёздочками. Если хотя бы одно из обязательных полей не заполнено, кнопка «Поиск» должна быть неактивна.

Если введённый ИНН не соответствует формату, нужно вывести ошибку. Кнопка «Поиск» в этом случае должна быть так же неактивна.

Введённый диапазон (дата начала и конца поиска) необходимо также проверять на корректность:

<li>даты не должны быть в будущем времени;</li>
<li>дата начала не может быть позже даты конца.</li>

Если эти условия не выполняются, нужно показать сообщение об ошибке.

Если поисковый запрос введён корректно, по нажатии на кнопку «Поиск» выполняется запрос POST objectsearch/histograms и открывается страница с результатами запроса.
Вывод результатов поиска

Здесь мы выводим результаты ранее введённого запроса. Этот раздел необязательно делать физически отдельной страницей (присваивать свой URL-адрес). Можно просто отобразить его поверх формы поиска после отправки запроса.

Поиск состоит из трёх этапов:
<ol>
<li>Сначала мы делаем запрос POST objectsearch/histograms и получаем общую сводку по количеству публикаций и рискам.
    Периодов может быть больше, чем помещается на экране. Поэтому необходимо реализовать карусель для горизонтального переключения между ними.
    На время, пока сводка подгружается, необходимо показать лоадер.</li>
<li>Затем, используя те же параметры поиска, отправляем запрос POST objectsearch, чтобы получить список публикаций. В ответе придёт список ID найденных документов.</li>
<li>После того как мы получили ID документов, остался последний шаг. Подгрузить их содержимое: заголовок, дату, источник, текст публикации и так далее. Для этого воспользуемся запросом POST documents.</li>
</ol>

Однако мы уже знаем, что найденных публикаций может быть много (лимит поиска — 1000 результатов). Было бы неправильно загружать всё и сразу: это может занять много времени, а мы не хотим задерживать пользователя.
Поэтому необходимо реализовать ленивую загрузку (lazy loading). Сначала нужно подгрузить только 10 первых результатов и добавить кнопку «Показать больше», по нажатии на которую будет подгружаться следующие 10 результатов. И так до тех пор, пока не будут загружены последние из найденных публикаций. После этого кнопку «Показать больше» необходимо спрятать.

<h2>Карточка публикации</h2>

Разберём детально карточку публикации:

В шапке карточки выводим дату публикации и название источника. Название является также ссылкой на оригинал статьи.

Далее идёт заголовок публикации, под ним может быть несколько тегов. Разберём их подробнее.

Каждый объект публикации имеет свойство attributes.

В зависимости от значений свойств isTechNews, isAnnouncement и isDigest карточка публикации может иметь 3 вида тегов:

<li>технические новости, если isTechNews равно true;</li>
<li>анонсы и события, если isAnnouncement равно true;</li>
<li>сводки новостей, если isDigest равно true.</li>

Далее необходимо отобразить содержимое документа (с картинками, если они есть).

Внизу карточки находятся кнопка «Читать в источнике», которая открывает в новой вкладке оригинальную статью, и количество слов. Количество слов также можно считать из объекта attributes (свойство wordCount).


<h2>Требования к вёрстке</h2>

Вёрстка должна соответствовать макету. Добиваться Pixel Perfect соответствия не обязательно, но основные моменты должны быть соблюдены:
наличие всех элементов интерфейса,
цветовая гамма,
шрифты,
размеры,
отступы.

Приложение должно корректно отображаться и работать на мобильных устройствах. Дизайн для мобильной версии вы можете найти в макете.
Соблюдайте семантическую вёрстку. На каждой странице должны присутствовать разделы <header>, <main> и <footer>, а также заголовок <h1>. Кнопки должны быть реализованы элементом <button>, выпадающий список — элементом <select> и так далее.
Если какой-либо элемент доступен для взаимодействия (ссылка, кнопка), при наведении курсора должен появляться cursor: pointer.

Внешний вид самого элемента тоже должен меняться при наведении курсора. Пример: нижнее подчёркивание текста у ссылки, другой цвет фона у кнопки.
Используйте любой вариант подключения стилей на ваше усмотрение:
общий файл стилей проекта,
CSS-модули,
специальные React-библиотеки для стилизации компонентов (например, Styled Components).
Использовать селекторы по тегу и ID для задания стилей не рекомендуется, старайтесь отдавать предпочтение классам.
Лучше всего экспортировать картинки из Figma в формате SVG, чтобы качество изображений было стабильным на разных разрешениях.

<h2>Требования к коду</h2>

Проект должен был выполнен на React.
Интерфейс должен быть поделён на компоненты. Перед началом работы обдумайте, какие компоненты вы будете использовать. Деление должно быть логичным и оправданным.
Проект будет работать со множеством данных. Рекомендуем использовать более продвинутый инструмент хранения и изменения данных, чем обычный state. Например, useReducer, React Context или Redux.
При написании кода старайтесь следовать принципам:
KISS (Keep It Short and Simple — не усложняй),
DRY (Don’t Repeat Yourself — не повторяйся).
Вы не ограничены в использовании любых инструментов и дополнительных библиотек (например, для реализации карусели). Но старайтесь следить за тем, чтобы их применение было оправдано и не усложняло код без необходимости.
